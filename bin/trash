#!/bin/bash

set -e # Exit on errors

# Stores deleted files to user trash instead of deleting them

function absolute_path {
    _PATH=$1
    cd `dirname "$_PATH"` && pwd
}

function move_file {
    FROM=$1; TO=$2
    mkdir -p "$TO" && mv "$FROM" "$TO"
}

DATE=`date +%Y-%m-%d-%H:%M:%S`

for FILE in "$@"; do
    move_file "$FILE" "$HOME/.Trash/$DATE`absolute_path $FILE`"
done
