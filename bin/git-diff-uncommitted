#!/bin/bash

# Like git diff but for all uncommited files (including untracked ones)
#
# Based on http://stackoverflow.com/a/4864668/337172
#
# TODO Make it work when filenames have spaces
# TODO less --quit-if-one-screen doesn't work

for FILE in `git ls-files --deleted --modified --others --exclude-standard`; do
    git diff --color /dev/null $FILE
done | less -R
